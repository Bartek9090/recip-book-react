{"ast":null,"code":"import{useState,useEffect}from\"react\";import{useParams,Link,useLocation}from\"react-router-dom\";import axios from\"axios\";import classes from\"./SinglePage.module.css\";import MainNavigation from\"../components/MainNavigation\";import ButtonURL from\"../components/ButtonURL\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const SingleRecipe=()=>{const{id}=useParams();const{state}=useLocation();const[recipe,setRecipe]=useState(state?state.recipe:null);useEffect(()=>{const fetchRecipe=async()=>{try{const response=await axios.get(\"https://api.spoonacular.com/recipes/\".concat(id,\"/information?apiKey=\").concat(process.env.REACT_APP_API_RECIP_BOOK_KEY));setRecipe(response.data);}catch(error){console.error(\"Error fetching recipe:\",error);}};if(!recipe){fetchRecipe();}},[id,recipe]);if(!recipe){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Brak danych receptury\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:classes.button,children:\"Back\"})]});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(MainNavigation,{}),/*#__PURE__*/_jsxs(\"div\",{className:classes.singleRecipeMainContainer,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.singleRecipeImgContainer,children:/*#__PURE__*/_jsx(\"img\",{src:recipe.image,alt:\"food img\"})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.singleRecipeDescriptionContainer,children:[/*#__PURE__*/_jsx(\"h1\",{children:recipe.title}),/*#__PURE__*/_jsx(\"p\",{children:\"Used Ingredients:\"}),/*#__PURE__*/_jsx(\"ul\",{children:recipe.usedIngredients.map(ingredient=>/*#__PURE__*/_jsxs(\"li\",{children:[ingredient.amount,\" \",ingredient.unitShort,\" \",ingredient.name]},ingredient.id))}),recipe.missedIngredients&&recipe.missedIngredients.length>0&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"ul\",{children:recipe.missedIngredients.map(ingredient=>/*#__PURE__*/_jsxs(\"li\",{children:[ingredient.amount,\" \",ingredient.unitShort,\" \",ingredient.name]},ingredient.id))})}),recipe.unusedIngredients&&recipe.unusedIngredients.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Unused Ingredients:\"}),/*#__PURE__*/_jsx(\"ul\",{children:recipe.unusedIngredients.map(ingredient=>/*#__PURE__*/_jsxs(\"li\",{children:[ingredient.amount,\" \",ingredient.unitShort,\" \",ingredient.name]},ingredient.id))})]}),recipe.instructions&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Instructions:\"}),/*#__PURE__*/_jsx(\"p\",{children:recipe.instructions})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.buttonCointainer,children:[/*#__PURE__*/_jsx(\"button\",{children:/*#__PURE__*/_jsx(Link,{to:\"/recipePage\",className:classes.button,children:\"Back to Recipe List\"})}),/*#__PURE__*/_jsx(ButtonURL,{recipeId:recipe.id})]})]})]})]});};export default SingleRecipe;","map":{"version":3,"names":["useState","useEffect","useParams","Link","useLocation","axios","classes","MainNavigation","ButtonURL","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SingleRecipe","id","state","recipe","setRecipe","fetchRecipe","response","get","concat","process","env","REACT_APP_API_RECIP_BOOK_KEY","data","error","console","children","to","className","button","singleRecipeMainContainer","singleRecipeImgContainer","src","image","alt","singleRecipeDescriptionContainer","title","usedIngredients","map","ingredient","amount","unitShort","name","missedIngredients","length","unusedIngredients","instructions","buttonCointainer","recipeId"],"sources":["C:/programowanie/Kursy/React/Project/recip-book-app/recip-book/src/pages/SingleRecipe.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useParams, Link, useLocation } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport classes from \"./SinglePage.module.css\";\r\nimport MainNavigation from \"../components/MainNavigation\";\r\nimport ButtonURL from \"../components/ButtonURL\";\r\nconst SingleRecipe = () => {\r\n  const { id } = useParams();\r\n  const { state } = useLocation();\r\n\r\n  const [recipe, setRecipe] = useState(state ? state.recipe : null);\r\n\r\n  useEffect(() => {\r\n    const fetchRecipe = async () => {\r\n      try {\r\n        const response = await axios.get(\r\n          `https://api.spoonacular.com/recipes/${id}/information?apiKey=${process.env.REACT_APP_API_RECIP_BOOK_KEY}`\r\n        );\r\n        setRecipe(response.data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching recipe:\", error);\r\n      }\r\n    };\r\n\r\n    if (!recipe) {\r\n      fetchRecipe();\r\n    }\r\n  }, [id, recipe]);\r\n\r\n  if (!recipe) {\r\n    return (\r\n      <div>\r\n        <p>Brak danych receptury</p>\r\n        <Link to=\"/\" className={classes.button}>\r\n          Back\r\n        </Link>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <MainNavigation />\r\n      <div className={classes.singleRecipeMainContainer}>\r\n        <div className={classes.singleRecipeImgContainer}>\r\n          <img src={recipe.image} alt=\"food img\" />\r\n        </div>\r\n        <div className={classes.singleRecipeDescriptionContainer}>\r\n          <h1>{recipe.title}</h1>\r\n          <p>Used Ingredients:</p>\r\n          <ul>\r\n            {recipe.usedIngredients.map((ingredient) => (\r\n              <li key={ingredient.id}>\r\n                {ingredient.amount} {ingredient.unitShort} {ingredient.name}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n          {recipe.missedIngredients && recipe.missedIngredients.length > 0 && (\r\n            <>\r\n              <ul>\r\n                {recipe.missedIngredients.map((ingredient) => (\r\n                  <li key={ingredient.id}>\r\n                    {ingredient.amount} {ingredient.unitShort} {ingredient.name}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </>\r\n          )}\r\n          {recipe.unusedIngredients && recipe.unusedIngredients.length > 0 && (\r\n            <>\r\n              <p>Unused Ingredients:</p>\r\n              <ul>\r\n                {recipe.unusedIngredients.map((ingredient) => (\r\n                  <li key={ingredient.id}>\r\n                    {ingredient.amount} {ingredient.unitShort} {ingredient.name}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </>\r\n          )}\r\n          {recipe.instructions && (\r\n            <>\r\n              <p>Instructions:</p>\r\n              <p>{recipe.instructions}</p>\r\n            </>\r\n          )}\r\n          <div className={classes.buttonCointainer}>\r\n            <button>\r\n              <Link to={\"/recipePage\"} className={classes.button}>\r\n                Back to Recipe List\r\n              </Link>\r\n            </button>\r\n            <ButtonURL recipeId={recipe.id} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SingleRecipe;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}